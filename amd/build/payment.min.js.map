{"version":3,"file":"payment.min.js","names":["b","a","__esModule","default","c","window","self","global","processPayment","gateway","component","paymentArea","itemId","description","paymentMethod","define","amd","Promise","d","require","concat","module","exports","loader","resolve","process","init","successUrl","initialised","then","message","Notification","addNotification","type","setTimeout","location","href","catch","alert","e"],"sources":["../src/payment.js"],"sourcesContent":["import Notification from 'core/notification';\n\nconst processPayment = async (gateway, component, paymentArea, itemId, description) => {\n    const paymentMethod = await import(`paygw_${gateway}/gateways_modal`);\n    return paymentMethod.process(component, paymentArea, itemId, description);\n};\n\nexport const init = (gateway, component, paymentArea, itemId, successUrl, description) => {\n    if (!init.initialised) {\n        init.initialised = true;\n\n        processPayment(gateway, component, paymentArea, itemId, description)\n            .then((message) => {\n                Notification.addNotification({\n                    message,\n                    type: 'success',\n                });\n\n                setTimeout(() => {\n                    location.href = successUrl;\n                }, 3000);\n\n                return message; // Satisfies eslint, although it's never reached\n            })\n            .catch((message) => {\n                Notification.alert('', message);\n\n                setTimeout(() => {\n                    location.href = successUrl;\n                }, 3000);\n            });\n    }\n};\n\n/**\n * Whether the init function was called before.\n *\n * @static\n * @type {boolean}\n */\ninit.initialised = false;\n"],"mappings":"uJAAAA,CAAA,UAAAC,CAAA,SAAAA,CAAA,EAAAA,CAAA,CAAAC,UAAA,CAAAD,CAAA,EAAAE,OAAA,CAAAF,CAAA,GAAAD,CAAA,EAA6C,IAAAI,CAAA,qBAAAC,MAAA,CAAAA,MAAA,qBAAAC,IAAA,CAAAA,IAAA,qBAAAC,MAAA,CAAAA,MAAA,SAEvC,CAAAC,CAAc,CAAG,KAAAA,CAAOC,CAAO,CAAEC,CAAS,CAAEC,CAAW,CAAEC,CAAM,CAAEC,CAAW,GAAK,CACnF,KAAM,CAAAC,CAAa,CAAG,yBAAAV,CAAA,CAAAW,MAAA,EAAAX,CAAA,CAAAW,MAAA,CAAAC,GAAA,KAAAC,OAAA,UAAAjB,CAAA,CAAAkB,CAAA,EAAAd,CAAA,CAAAe,OAAA,WAAAC,MAAA,CAAsBX,CAAO,qBAAAT,CAAA,CAAAkB,CAAA,wBAAAG,MAAA,EAAAA,MAAA,CAAAC,OAAA,sBAAAH,OAAA,sBAAAE,MAAA,EAAAA,MAAA,CAAAX,SAAA,EAAAN,CAAA,CAAAe,OAAA,gBAAAf,CAAA,CAAAe,OAAA,CAAAI,MAAA,CAAAN,OAAA,CAAAO,OAAA,CAAAL,OAAA,WAAAC,MAAA,CAAPX,CAAO,uBAAAQ,OAAA,CAAAO,OAAA,CAAApB,CAAA,UAAAgB,MAAA,CAAPX,CAAO,sBAAkB,CACrE,MAAO,CAAAK,CAAa,CAACW,OAAO,CAACf,CAAS,CAAEC,CAAW,CAAEC,CAAM,CAAEC,CAAW,CAC5E,CAAC,CAEYa,CAAI,CAAGA,CAACjB,CAAO,CAAEC,CAAS,CAAEC,CAAW,CAAEC,CAAM,CAAEe,CAAU,CAAEd,CAAW,GAAK,CACtF,GAAI,CAACa,CAAI,CAACE,WAAW,CAAE,CACnBF,CAAI,CAACE,WAAW,GAAO,CAEvBpB,CAAc,CAACC,CAAO,CAAEC,CAAS,CAAEC,CAAW,CAAEC,CAAM,CAAEC,CAAW,CAAC,CAC/DgB,IAAI,CAAEC,CAAO,EAAK,CACfC,SAAY,CAACC,eAAe,CAAC,CACzBF,OAAO,CAAPA,CAAO,CACPG,IAAI,CAAE,SACV,CAAC,CAAC,CAEFC,UAAU,CAAC,IAAM,CACbC,QAAQ,CAACC,IAAI,CAAGT,CACpB,CAAC,CAAE,GAAI,CAAC,CAER,MAAO,CAAAG,CACX,CAAC,CAAC,CACDO,KAAK,CAAEP,CAAO,EAAK,CAChBC,SAAY,CAACO,KAAK,CAAC,EAAE,CAAER,CAAO,CAAC,CAE/BI,UAAU,CAAC,IAAM,CACbC,QAAQ,CAACC,IAAI,CAAGT,CACpB,CAAC,CAAE,GAAI,CACX,CAAC,CACT,CACJ,CAAC,CAAA1B,CAAA,CAAAyB,IAAA,CAAAa,CAAA,CAQDb,CAAI,CAACE,WAAW,GAAS"}